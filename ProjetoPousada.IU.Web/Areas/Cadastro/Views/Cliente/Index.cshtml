@model ProjetoPousada.IU.Web.Areas.Cadastro.ViewModels.Cliente.IndexViewModel

@{
    Layout = "_Template";
}

<div class="container-fluid">

    <div class="row">

        <div class="col-lg-10">
            <h2>Pesquisa de Clientes</h2>
        </div>
        <div class="col-lg-2">
            <a href="/Cadastro/Cliente/Cadastro">
                <button class="btn btn-info float-end" id="btnCadastrar">
                    <i class="align-middle me-2" data-feather="user-plus"></i>
                    Cadastrar
                </button>
            </a>
        </div>
    </div>

    <br />
    <br />

    <div class="row">
        <div class="col-md-4">
            @Html.TextBoxFor(p => p.Cliente.Nome,new {@class = "form-control",required = "required",maxlength = "400",placeholder = "Nome"})
        </div>
        <div class="col-md-4">
            <div id="divAlertaCPF"></div>
            @Html.TextBoxFor(p => p.Cliente.CPF,new {@class = "form-control",required = "required",maxlength = "11",placeholder = "CPF"})
        </div>
        <div class="col-md-2">
            @Html.TextBoxFor(p => p.Cliente.DtNascimento,new {@class = "form-control",required = "required",maxlength = "400",placeholder = "Data de Nascimento", type="date"})
        </div>
        <div class="col-md-2">
            <button class="btn btn-success" id="btnPesquisar" style="margin-top: 2px;">
                <i class="align-middle me-2" data-feather="search"></i>
                Pesquisar
            </button>
        </div>
    </div>

    <br />

    <table class="table table-striped table-bordered" id="tbClientes">
        <thead>
            <tr>
                <th>Nome:</th>
                <th>Data de Nascimento:</th>
                <th>Cpf:</th>
                <th>Rg:</th>
                <th>Sexo:</th>
                <th>Ativo:</th>
                <th>Data de Cadastro:</th>
                <th>Editar:</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var cliente in Model.Clientes)
            {
                <tr>
                    <td>@cliente.Nome</td>
                    <td>@cliente.DtNascimento.ToShortDateString()</td>
                    <td>@cliente.CPF</td>
                    <td>@cliente.Rg</td>
                    <td>@cliente.Sexo.Sexo</td>
                    @if (cliente.FlAtivo)
                    {
                        <td class="text-center"> <i class="text-center" data-feather="thumbs-up"></i> <span class="text-center"></span></td>
                    }
                    else
                    {
                        <td class="text-center"> <i class="text-center" data-feather="thumbs-down"></i> <span class="text-center"></span></td>
                    }
                    <td class="text-center">@cliente.DtCadastro.ToShortDateString() às @cliente.DtCadastro.ToLongTimeString()</td>
                    <td>
                        <button style="width:40px; height:40px" class="btn btn-warning bd-placeholder-img rounded-circle">
                            <i style="margin-top: -3px" class="align-middle me-2" data-feather="edit"></i>
                        </button>
                    </td>
                </tr>
            }
        </tbody>
    </table>

</div>

@section JS
    {      
    <script src="~/assets/js/custom/utils/nulooubranco.js"></script>
    <script src="~/assets/js/custom/utils/validacaocpf.js"></script>
    <script src="~/assets/js/custom/cadastro/cliente/index.js"></script>
    }
